//https://language-select.github.io
!(function({console:e,customElements:t,document:s,CustomEvent:a,HTMLElement:i,Object:o,setTimeout:n}=window){const[l,c,d,h,r,p,g,u,m,b,f]="define,attachShadow,shadowRoot,innerHTML,getAttribute,setAttribute,querySelector,addEventListener,removeEventListener,onclick,part".split(","),y=(e,{append:t=[],style:a={},attrs:i={},...n}={},l=s.createElement(e))=>(l.append(...t),o.assign(l,n)),x=(e,t={})=>y("style",{textContent:e,...t}),$=({is:e,part:t="flag-"+e,flag:s=y("flag-"+e),detail:a=9999})=>(s[p]("detail",a),s[p](f,t),s),w="connectedDoneCallback",k="renderedCallback",v="language-select",E=v+"remove",C="language-selected-by-flag",L="selectable",M="dialog",O=e=>`[part="${e}"]`,S="flag-language",T={c:{name:"language-select-flags",css:":host{--selectcolor:lightgreen;--flagbackground:lightgrey}"+O(M)+"{user-select:none}"+O(M)+"{border:none;border-radius:6px;box-shadow:0 4px 4px rgba(0,0,0,.3)}"+O("title")+"{text-align:center}svg{width:10%;cursor:pointer}",animationcss:"dialog{opacity:0;transform:scale(.3);transition:opacity .3s ease, transform .3s ease}dialog::backdrop{background:rgba(0,0,0,.3);animation:fadeIn .3s ease}@keyframes fadeIn{to{opacity:1}}@keyframes fadeOut{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0.3)}}"},b:{name:"language-selectors",css:":host{display:flex;flex-wrap:wrap;gap:.7em;max-width:1180px;user-select:none}:host>*{flex:1 1 7%}",selected:(e,t=e)=>`:host([selected*='${e}']) ${S}[is='${t}']{order:1;background:var(--selectcolor)}`},a:{name:S,css:`:host{display:inline-block;display:grid;padding:.5em;max-width:100px}:host{order:3;background:#eee;opacity:.3;pointer-events:none}:host(.${L}){order:2;opacity:1;cursor:pointer;pointer-events:auto;background:var(--flagbackground,lightgrey)}`+O("label")+"{font-size:var(--select-language-font-size,16px);text-align:center;min-width:80px}"}},z=class extends i{$1({type:e,func:t,scope:a=s,options:i={}}){a[u](e,t,i);let o=()=>a[m](e,t,i);return this.c=this.c||[],this.c.push(o),o}$2({type:e="CustomEvent",detail:t={},bubbles:s=!0,composed:i=!0,scope:o=this}){o.dispatchEvent(new a(e,{detail:t,bubbles:s,composed:i}))}connectedCallback(){this[w]&&this[w](),this[k]&&n((()=>this[k]()),1)}disconnectedCallback(){this.c?.forEach((e=>e()))}};t[l](T.c.name,class extends z{[w](){this[c]({mode:"open"}).append(x(T.c.css),x(T.c.animationcss),this.dialog=y(M,{[f]:M,append:[y("h2",{[f]:"title",textContent:this[r]("caption")||"Select Your Language",[b]:()=>this.$2({type:E,scope:this})}),this.e=y(T.b.name,{host:this.host})],[b]:e=>{e.target===this.dialog&&(this.dialog.close(),this.$2({type:E}))}})),this.dialog.onanimationend=()=>{this.dialog.style.opacity="1",this.dialog.style.transform="scale(1)"},this.$1({type:C,func:({detail:t})=>{e.log(`%c (document) Event: ${v} `,"background:gold",t),this.$2({type:v,detail:t,scope:this}),this.host&&(this.host.label(t.iso),this.host[p]("selected",t.iso)),this.$2({type:E})}}),this.$1({type:E,func:()=>{this.dialog.onanimationend=()=>{this.dialog.close(),this.remove()},this.dialog.style.animation="fadeOut .5s ease"}}),this.showModal()}showModal(){const e=this[r]("selected");this.e[p]("selected",e),this.dialog.showModal&&this.dialog.showModal()}}),t[l](T.b.name,class extends z{[w](){let e=o.keys(this.host.languages),t=e,s=this.host[r]("languages"),a=s?.split(",")||e,i=T.b.selected("en","duo"),n=t.map((e=>{const t="en"==e?"duo":e;i+=T.b.selected(t);let s=y(S,{is:e,host:this.host});return s.classList.toggle(L,a.includes(e)),s}));this[c]({mode:"open"}).append(x(T.b.css,{id:T.b.name}),x(i,{id:T.b.name+"-selected"}),...n),this[b]=()=>{this.$2({type:E,scope:this})}}}),t[l](T.a.name,class extends z{[w](){let e=this.is||"en";"en"==e&&(e="duo");let t,s=this.host.languages[e]||"English";this[c]({mode:"open"}).append(x(T.a.css),this.flag=$({is:e,[f]:"flag",alt:s,detail:9999,host:this.host}),y("div",{[f]:"label",textContent:s})),t=this.flag[g]("img"),t&&(t[p]("draggable","false"),t[p]("alt",s)),this[p]("is",e),this[p]("alt",s),this[b]=()=>this.$2({type:C,detail:{iso:"duo"==e?"en":e,language:s,node:this}})}}),t[l]("flag-duo",class extends i{connectedCallback(e=this[r]("is")||"us,gb",[t,s]=e.split(","),a=("gb"==s?"100% 100%,-2% 100%,100%-1%":"100% 100%,0 100%,100% 0"),[i,o="50%",n=o]=(this[r]("split")||"").split(":")){"v"==i?a=`${o} 0, ${n} 100%, 100% 100%, 100% 0`:"h"==i&&(a=`0 ${o}, 100% ${n}, 100% 100%, 0 100%`),this[c]({mode:"open"}).append(x(`:host{position:relative;aspect-ratio:4/3}:host>*{position:absolute}[part="part2"]{clip-path:polygon(${a})}img{width:95%}`),$({is:t,[f]:"part1"}),$({is:s,[f]:"part2"}))}})})(window);