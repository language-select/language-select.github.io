//https://language-select.github.io
!(function({console:e,customElements:t,CustomEvent:s,document:a,HTMLElement:l,Object:i,setTimeout:o}=window){const[n,c,h,d,r,g,p,u,b,m,f,x]="append,define,attachShadow,shadowRoot,innerHTML,getAttribute,setAttribute,querySelector,addEventListener,removeEventListener,onclick,part".split(","),w=(e,t={})=>{let s=a.createElement(e);return t[n]&&(s[n](...t[n]),delete t[n]),i.assign(s,t)},y=(e,t={})=>w("style",{textContent:e,...t}),k=({is:e,part:t="flag-"+e,flag:s=w("flag-"+e),detail:a=9999})=>(s[p]("detail",a),s[p](x,t),s),v="connectedDoneCallback",$="renderedCallback",C="language-select",E="language-selected-by-flag",L="selectable",M="dialog",S=e=>`[part="${e}"]`,T="flag-language",j={c:{name:"language-select-flags",css:":host{--selectcolor:lightgreen;--flagbackground:lightgrey}"+S(M)+"{user-select:none}"+S(M)+"{border:none;border-radius:6px;box-shadow:0 4px 4px rgba(0,0,0,0.2)}"+S(M)+"::backdrop{background:rgba(0,0,0,0.7)}"+S("title")+"{text-align:center}svg{width:10%;cursor:pointer}"},b:{name:"language-selectors",css:":host{display:flex;flex-wrap:wrap;gap:1em;max-width:1180px}:host>*{flex:1 1 calc(17.5% - 1em)}"},a:{name:T,css:`:host{display:inline-block;display:grid;padding:.5em;max-width:100px}:host{order:3;background:#eee;opacity:.3;pointer-events:none}:host(.${L}){order:2;opacity:1;cursor:pointer;pointer-events:auto;background:var(--flagbackground,lightgrey)}img{max-width:100%;aspect-ratio:4/3}`+S("label")+"{width:100%;display:flex;align-items:center;justify-content:center;height:100%;white-space:no-wrap}"}},A=class extends l{$1({type:e,func:t,scope:s=a,options:l={}}){s[b](e,t,l);let i=()=>s[m](e,t,l);return this.c=this.c||[],this.c.push(i),i}$2({type:e="CustomEvent",detail:t={},bubbles:a=!0,composed:l=!0,scope:i=this}){i.dispatchEvent(new s(e,{detail:t,bubbles:a,composed:l}))}connectedCallback(){this[v]&&this[v](),this[$]&&o((()=>this[$]()),1)}disconnectedCallback(){this.c?.forEach((e=>e()))}};t[c](j.c.name,class extends A{[v](){this[h]({mode:"open"})[n](y(j.c.css),this.d=w(M,{[x]:M,append:[w("h2",{[x]:"title",textContent:this[g]("caption")||"Select Your Language"}),this.e=w(j.b.name,{lshost:this.lshost})],[f]:e=>{e.target===this.d&&(this.d.close(),this.remove())}})),this.$1({type:E,func:({detail:t})=>{e.log(`%c (document) Event: ${C} `,"background:gold",t),this.$2({type:C,detail:t,scope:this}),this.lshost&&(this.lshost.label.textContent=t.language,this.lshost[p]("selected",t.iso)),this.remove()}}),this.showModal()}showModal(){this.e[p]("selected",this[g]("selected")),this.d.showModal&&this.d.showModal()}}),t[c](j.b.name,class extends A{[v](){let e=i.keys(this.lshost.languages),t=e,s=this.lshost[g]("languages"),a=s?.split(",")||e,l="",o=t.map((e=>{l+=`:host([selected*='${e}']) ${T}[is='${e}']{order:1;background:var(--selectcolor)}`;let t=w(T,{is:e,lshost:this.lshost});return t.classList.toggle(L,a.includes(e)),t}));this[h]({mode:"open"})[n](y(j.b.css),y(l),...o)}}),t[c](j.a.name,class extends A{[v](){let e=this.is||"en";"us"!=e&&"gb"!=e||(e="duo");let t,s=this.lshost.languages[e]||"English";this[h]({mode:"open"})[n](y(j.a.css),this.flag=k({is:e,[x]:"flag",alt:s,detail:9999,lshost:this.lshost}),w("div",{[x]:"label",textContent:s})),t=this.flag[u]("img"),t&&(t[p]("draggable","false"),t[p]("alt",s)),this[p]("is",e),this[p]("alt",s),this[f]=()=>this.$2({type:E,detail:{iso:"duo"==e?"en":e,language:s,node:this}})}disconnectedCallback(){this.c?.forEach((e=>e()))}}),t[c]("flag-duo",class extends l{connectedCallback(e=this[g]("is")||"us,gb",[t,s]=e.split(","),a=("gb"==s?"100% 100%,-2% 100%,100%-1%":"100% 100%,0 100%,100% 0"),[l,i="50%",o=i]=(this[g]("split")||"").split(":")){"v"==l?a=`${i} 0, ${o} 100%, 100% 100%, 100% 0`:"h"==l&&(a=`0 ${i}, 100% ${o}, 100% 100%, 0 100%`),this[h]({mode:"open"})[n](y(`:host{position:relative;aspect-ratio:4/3}:host>*{position:absolute}[part="part2"]{clip-path:polygon(${a})}img{width:95%}`),k({is:t,[x]:"part1"}),k({is:s,[x]:"part2"}))}})})();