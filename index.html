<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Selector</title>
    <meta name="description" content="A web component for selecting languages">

    <!-- LOADING <language-select> Web Component -->
    <script>
        const script = document.createElement('script');
                    script.src = `./select-button${location.href.includes("127") ? "" : ".min"}.js`;
        document.head.append(script);
    </script>
    <script>
        document.addEventListener('language-select', (e) => {
            console.log(` %c language-select Event`, "background:gold", e.detail);
            let el = document.querySelector('language-select');
            console.log(` %c languages on <language-select>`, "background:gold", el.languages);
        });
        console.error(` %c language-select Event`, "background:gold", "Listen for 'language-select' Event");
    </script>

    <style>
        /* ===================================== */
        /* STYLE <language-select> Web Component */
        /* ===================================== */
        language-select {
            --buttoncolor: darkgreen;
            --padding: .5vw;
            zoom: 2;
            position: absolute;
            top: var(--padding);
            right: var(--padding);
            float: right;
            background: whitesmoke;

            /* style labeled parts inside shadowDOM */
            &::part(div) {
                /* background: pink */
            }

            &::part(path) {
                /* style SVG icon */
                fill: var(--buttoncolor);
            }

            &::part(labeliso),
            &::part(labellanguage) {
                /* style language label right of icon */
                /* font-size: 1.1em;  */
                /* font-weight: bold; */
                color: var(--buttoncolor);
            }
        }

        language-select {
            &::part(labeliso) {
                display: inherit;
                background: lightgrey;
            }

            &::part(labellanguage) {
                display: none;
            }
        }
    </style>
    <style>
        /* =========================================== */
        /* STYLE <language-select-flags> Web Component */
        /* =========================================== */
        language-select-flags {
            --selectbackground: green;
            --selectcolor: beige;
            --flagbackground: beige;
            /* --notselectabledisplay: none; */
            --notselectablebackground: none;
            --notselectablecolor: black;
            --notselectableopacity: .1;
        }
    </style>
    <style>
        body {
            font-family: Arial;
        }

        /* PAGE STYLING */
        section {
            background: beige;
            margin: 0 auto;
            max-width: 1024px;
            padding: 1em;
            position: relative;
        }

        code {
            padding: 1em;
        }
    </style>
</head>

<body>
    <section>

        <!-- USE Web Component -->
        <language-select languages="nl,de,fr,en,jp,es,it" selected="en" noexclude="*" nooptions
            caption="Select your preferred language"></language-select>

        <br>
        <br>
        <a href="https://github.com/language-select/language-select.github.io">GitHub repo</a>

        <h1>&lt;language-select> - Proof of Concept</h1>
        <p>For usage and styling see Page Source</p>
        <p>The Web Component displays a button with language-name text label</b></p>
        <p>UI and SVG Flags dependencies only load <b>AFTER</b> click, only when required, once!
            <br>
            This LOAD delay is measured in the console. Is it an acceptable UI delay?
        </p>
        <h2>Use</h2>
        <p>Load
            with<br><code>&lt;script src="https://language-select.github.io/button.min.js">&lt;/script></code>
        </p>
        <p>Use:<br>
            <code>&lt;language-select selected="nl" languages="en,nl,es,pt,...">&lt;/language-select></code>
        </p>
        <p>Language codes are ISO-Alpha3 country codes</p>
        <p>Style with ::part (see Page Source)</p>
        <p>Language selection sends a <b>"language-select"</b> Event up the DOM tree (see console)</p>
    </section>
    <section hidden>
        <language-select options languages="nl,de,fr,en,jp,es,it" selected="de"
            caption="Select your preferred language"></language-select>
    </section>
</body>

</html>